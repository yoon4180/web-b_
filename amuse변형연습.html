<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="css/aumse연습.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <script>
    window.onload = () => {
      $(function () {
        let $section = $('.scroll_section');
        let $imgs = $('.image_wrap .img');
        let $texts = $('.text_wrap .text');
        let sectionTop = $section.offset().top;
        let sectionHeight = $section.height();

        $(window).scroll(function () {
          let scrollTop = $(window).scrollTop();
          let scrollPos = scrollTop - sectionTop;
          let winH = $(window).height();

          if (scrollTop >= sectionTop && scrollTop < sectionTop + sectionHeight) {
            // 스크롤 진행 비율 (0 ~ 1)
            let progress = scrollPos / (sectionHeight - winH);

            // 전체 구간을 4등분 (이미지 4장)
            let totalImages = 4;
            let sectionPerImg = 1 / totalImages;

            // 현재 이미지 인덱스 계산
            let currentIndex = Math.floor(progress / sectionPerImg);

            // 이미지 전환
            $imgs.removeClass('on');
            $imgs.eq(currentIndex).addClass('on');

            // 텍스트 전환 (이미지 1~2 => text1 / 3~4 => text2)
            $texts.removeClass('on');
            if (currentIndex <= 1) {
              $texts.eq(0).addClass('on');
            } else {
              $texts.eq(1).addClass('on');
            }
          }
        });
      });


    }
  </script>

</head>

<body>
  <section class="scroll_section">
    <div class="container">
      <!-- 왼쪽 이미지 -->
      <div class="image_wrap">
        <div class="img img1 on"><img src="img/green1.jpg" alt=""></div>
        <div class="img img2"><img src="img/green2.jpg" alt=""></div>
        <div class="img img3"><img src="img/green3.jpg" alt=""></div>
        <div class="img img4"><img src="img/green4.jpg" alt=""></div>
      </div>

      <!-- 오른쪽 텍스트 -->
      <div class="text_wrap">
        <div class="text text1 on">
          <h3>AMUSE PICK 1</h3>
          <p>내 피부 톤에 핏, 섬세한 톤-핏 음영 컬러레이션</p>
        </div>
        <div class="text text2">
          <h3>AMUSE PICK 2</h3>
          <p>맑고 선명한 탱글 젤리가 쫀쫀 밀착되는 젤핏 틴트</p>
        </div>
      </div>
    </div>
  </section>


</body>

</html>